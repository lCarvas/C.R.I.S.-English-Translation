import {
  d as I,
  r as C,
  a0 as H,
  f as M,
  o as n,
  c as s,
  a as e,
  m as r,
  t as h,
  j as v,
  k as $,
  x,
  T as B,
  p as D,
  b as F,
  _ as R,
} from "./index-G0kqgsTS.js";
import { _ as L, a as P } from "./share-icon-J6b_MEIl.js";
import { _ as O } from "./trash-icon-Dl18GMfa.js";
const Z =
    "data:image/svg+xml,%3csvg%20width='11'%20height='12'%20viewBox='0%200%2011%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.10714%200H8.15424C8.46607%200%208.76562%200.119531%208.98661%200.330469L10.6538%201.92188C10.8748%202.13281%2011%202.41875%2011%202.71641V7.875C11%208.49609%2010.4721%209%209.82143%209H5.10714C4.45647%209%203.92857%208.49609%203.92857%207.875V1.125C3.92857%200.503906%204.45647%200%205.10714%200ZM1.17857%203H3.14286V4.5H1.57143V10.5H6.28571V9.75H7.85714V10.875C7.85714%2011.4961%207.32924%2012%206.67857%2012H1.17857C0.527902%2012%200%2011.4961%200%2010.875V4.125C0%203.50391%200.527902%203%201.17857%203Z'%20fill='white'/%3e%3c/svg%3e",
  j =
    "data:image/svg+xml,%3csvg%20width='12'%20height='8'%20viewBox='0%200%2012%208'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%201.33333C0%200.597917%200.597917%200%201.33333%200H6.66667C7.40208%200%208%200.597917%208%201.33333V6.66667C8%207.40208%207.40208%208%206.66667%208H1.33333C0.597917%208%200%207.40208%200%206.66667V1.33333ZM11.6479%200.745833C11.8646%200.8625%2012%201.0875%2012%201.33333V6.66667C12%206.9125%2011.8646%207.1375%2011.6479%207.25417C11.4312%207.37083%2011.1688%207.35833%2010.9625%207.22083L8.9625%205.8875L8.66667%205.68958V5.33333V2.66667V2.31042L8.9625%202.1125L10.9625%200.779167C11.1667%200.64375%2011.4292%200.629167%2011.6479%200.745833Z'%20fill='white'/%3e%3c/svg%3e",
  q =
    "data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%206H26C27.1063%206%2028%206.89375%2028%208V24C28%2025.1063%2027.1063%2026%2026%2026H22C20.8937%2026%2020%2026.8937%2020%2028C20%2029.1063%2020.8937%2030%2022%2030H26C29.3125%2030%2032%2027.3125%2032%2024V8C32%204.6875%2029.3125%202%2026%202H22C20.8937%202%2020%202.89375%2020%204C20%205.10625%2020.8937%206%2022%206ZM21.4125%2017.4125C22.1938%2016.6313%2022.1938%2015.3625%2021.4125%2014.5813L13.4125%206.58125C12.6313%205.8%2011.3625%205.8%2010.5813%206.58125C9.8%207.3625%209.8%208.63125%2010.5813%209.4125L15.1687%2014H2C0.89375%2014%200%2014.8938%200%2016C0%2017.1062%200.89375%2018%202%2018H15.1687L10.5813%2022.5875C9.8%2023.3687%209.8%2024.6375%2010.5813%2025.4188C11.3625%2026.2%2012.6313%2026.2%2013.4125%2025.4188L21.4125%2017.4188V17.4125Z'%20fill='%23D9534F'/%3e%3c/svg%3e",
  d = (t) => (D("data-v-3dff75ea"), (t = t()), F(), t),
  N = { class: "card" },
  A = { key: 0 },
  T = ["src"],
  E = { class: "card-content" },
  Y = { class: "settings-button-container" },
  z = d(() =>
    e(
      "img",
      {
        id: "img.settings-button",
        src: L,
        alt: "configurações",
        class: "settings-button",
      },
      null,
      -1
    )
  ),
  G = [z],
  J = { class: "name" },
  K = { class: "class" },
  Q = { class: "register-date" },
  U = { key: 0, class: "sheet-button-container" },
  W = { key: 1 },
  X = { key: 0, class: "already-in-campaign" },
  t2 = { key: 1, class: "sheet-button-container" },
  e2 = { class: "settings-buttons-container" },
  a2 = { key: 0, class: "button-container" },
  n2 = d(() =>
    e("img", { class: "icon", src: P, alt: "compartilhar" }, null, -1)
  ),
  s2 = { key: 1, class: "button-container" },
  o2 = d(() => e("img", { class: "icon", src: Z, alt: "duplicar" }, null, -1)),
  i2 = d(() => e("img", { class: "icon", src: j, alt: "portrait" }, null, -1)),
  c2 = { key: 2, class: "button-container" },
  r2 = d(() => e("img", { class: "icon", src: O, alt: "deletar" }, null, -1)),
  d2 = { key: 3, class: "button-container" },
  l2 = d(() => e("img", { class: "icon", src: q, alt: "sair" }, null, -1)),
  m2 = I({
    __name: "CharacterCard",
    props: {
      charId: { type: String, required: !0 },
      name: { type: String, required: !0 },
      charClass: { type: String, required: !0 },
      timestamp: { type: Number, required: !0 },
      sheetPicture: { type: String || void 0, required: !0 },
      campaignPage: { type: Boolean },
      canRemoveFromCampaign: { type: Boolean },
      joinCampaignMode: { type: Boolean },
      campaignId: { type: String, default: "" },
    },
    emits: [
      "handleRemove",
      "handleOpenSheet",
      "handleDuplicate",
      "handleShareCharacter",
      "handleChooseForCampaign",
      "handleRemoveFromCampaign",
      "handleOpenSheetMidClick",
    ],
    setup(t, { emit: p }) {
      const c = t,
        m = p,
        i = C(!1),
        g = C(null);
      H(g, (o) => {
        (o.target && o.target.id === "img.settings-button") || (i.value = !1);
      });
      const b = M(() => {
          const o = new Date(c.timestamp * 1e3),
            a = o.getDate(),
            l = a < 10 ? `0${a}` : a.toString(),
            u = o.getMonth() + 1,
            S = u < 10 ? `0${u}` : u.toString(),
            V = o.getFullYear().toString().substring(2, 4);
          return `${l}/${S}/${V}`;
        }),
        f = () => {
          window.open(
            "https://crisordemparanormal.com/agente/stream/" + c.charId
          ),
            (i.value = !1);
        },
        k = () => {
          m("handleShareCharacter", c.charId), (i.value = !1);
        },
        _ = () => {
          m("handleDuplicate", c.charId), (i.value = !1);
        },
        w = () => {
          m("handleRemove", c.charId), (i.value = !1);
        },
        y = () => {
          m("handleRemoveFromCampaign", c.charId), (i.value = !1);
        };
      return (o, a) => (
        n(),
        s("div", N, [
          t.sheetPicture
            ? (n(),
              s("div", A, [
                e(
                  "img",
                  {
                    class: "card-img",
                    src: t.sheetPicture,
                    alt: "foto agente",
                  },
                  null,
                  8,
                  T
                ),
              ]))
            : r("", !0),
          e("div", E, [
            e("div", Y, [
              t.joinCampaignMode
                ? r("", !0)
                : (n(),
                  s(
                    "button",
                    {
                      key: 0,
                      class: "button-naked settings-button",
                      onClick: a[0] || (a[0] = (l) => (i.value = !i.value)),
                    },
                    G
                  )),
            ]),
            e("div", J, h(t.name ? t.name : "[Sem nome]"), 1),
            e("div", K, h(t.charClass), 1),
            e("div", Q, " Created on " + h(b.value), 1),
            t.joinCampaignMode
              ? (n(),
                s("div", W, [
                  t.campaignId !== "" && t.campaignId !== void 0
                    ? (n(), s("div", X, " Agent is already on a campaign! "))
                    : (n(),
                      s("div", t2, [
                        e(
                          "button",
                          {
                            class: "button-primary card-button",
                            onClick:
                              a[4] ||
                              (a[4] = (l) =>
                                o.$emit("handleChooseForCampaign", t.charId)),
                          },
                          " Add "
                        ),
                      ])),
                ]))
              : (n(),
                s("div", U, [
                  e(
                    "button",
                    {
                      class: "button-primary card-button",
                      onClick:
                        a[1] ||
                        (a[1] = (l) => o.$emit("handleOpenSheet", t.charId)),
                      onMouseup:
                        a[2] ||
                        (a[2] = v(
                          (l) => o.$emit("handleOpenSheetMidClick", t.charId),
                          ["middle"]
                        )),
                      onMousedown:
                        a[3] ||
                        (a[3] = v(() => {}, ["middle", "prevent", "stop"])),
                    },
                    " Access Sheet ",
                    32
                  ),
                ])),
          ]),
          $(
            B,
            { name: "settings" },
            {
              default: x(() => [
                i.value
                  ? (n(),
                    s(
                      "div",
                      {
                        key: 0,
                        ref_key: "dropdown",
                        ref: g,
                        class: "settings-container",
                      },
                      [
                        e("div", e2, [
                          t.campaignPage
                            ? r("", !0)
                            : (n(),
                              s("div", a2, [
                                n2,
                                e(
                                  "button",
                                  {
                                    class:
                                      "button-naked settings-action-button",
                                    onClick: k,
                                  },
                                  " Share "
                                ),
                              ])),
                          t.campaignPage
                            ? r("", !0)
                            : (n(),
                              s("div", s2, [
                                o2,
                                e(
                                  "button",
                                  {
                                    class:
                                      "button-naked settings-action-button",
                                    onClick: _,
                                  },
                                  " Duplicate "
                                ),
                              ])),
                          e("div", { class: "button-container" }, [
                            i2,
                            e(
                              "button",
                              {
                                class: "button-naked settings-action-button",
                                onClick: f,
                              },
                              " Portrait "
                            ),
                          ]),
                          t.campaignPage
                            ? t.canRemoveFromCampaign
                              ? (n(),
                                s("div", d2, [
                                  l2,
                                  e(
                                    "button",
                                    {
                                      class:
                                        "button-naked settings-action-button delete-button",
                                      onClick: y,
                                    },
                                    " Remove "
                                  ),
                                ]))
                              : r("", !0)
                            : (n(),
                              s("div", c2, [
                                r2,
                                e(
                                  "button",
                                  {
                                    class:
                                      "button-naked settings-action-button delete-button",
                                    onClick: w,
                                  },
                                  " Delete "
                                ),
                              ])),
                        ]),
                      ],
                      512
                    ))
                  : r("", !0),
              ]),
              _: 1,
            }
          ),
        ])
      );
    },
  }),
  C2 = R(m2, [["__scopeId", "data-v-3dff75ea"]]);
export { C2 as C };
